# å­¦ç¿’ç®¡ç†ã‚¢ãƒ—ãƒªï¼ˆStudy Appï¼‰

å­¦ç¿’ã®è¨˜éŒ²ï¼ˆæ™‚é–“ãƒ»å†…å®¹ãƒ»ç†è§£åº¦ï¼‰ã‚’ç´ æ—©ããƒ»æ°—æŒã¡ã‚ˆãä¿å­˜/é–²è¦§ã§ãã‚‹ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: React + TypeScript + FastAPI + AWS (S3 + CloudFront + Lambda + DynamoDB + Cognito)

---

## ğŸ“‘ ç›®æ¬¡

- [1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
- [2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#2-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ](#3-ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ)
- [4. å‰ææ¡ä»¶](#4-å‰ææ¡ä»¶)
- [5. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#5-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [6. é–‹ç™ºãƒ•ãƒ­ãƒ¼](#6-é–‹ç™ºãƒ•ãƒ­ãƒ¼)
- [7. ãƒ‡ãƒ—ãƒ­ã‚¤](#7-ãƒ‡ãƒ—ãƒ­ã‚¤)
- [8. ç’°å¢ƒ](#8-ç’°å¢ƒ)
- [9. é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#9-é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)
- [10. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#10-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### MVPï¼ˆMinimum Viable Productï¼‰ã®ç›®æ¨™

æœ€å°æ§‹æˆã§ã€Œå­¦ç¿’ã®è¨˜éŒ²ï¼ˆæ™‚é–“ãƒ»å†…å®¹ãƒ»ç†è§£/æœªç†è§£ï¼‰ã€ã‚’ç´ æ—©ãä¿å­˜ãƒ»é–²è¦§ã§ãã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã€‚

### ä¸»ãªæ©Ÿèƒ½

- âœ… **å­¦ç¿’ãƒ­ã‚°ç®¡ç†**: ä½œæˆãƒ»ä¸€è¦§è¡¨ç¤ºãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… **çµ±è¨ˆè¡¨ç¤º**: æœŸé–“ã‚’æŒ‡å®šã—ã¦åˆè¨ˆæ™‚é–“ã¨ç†è§£åº¦å†…è¨³ã‚’è¡¨ç¤º
- âœ… **èªè¨¼**: Amazon Cognito ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- âœ… **ã‚¤ãƒ³ãƒ•ãƒ©**: Terraform ã§å†ç¾å¯èƒ½

### é”æˆæ¡ä»¶

- [x] ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰å­¦ç¿’ãƒ­ã‚°ã‚’ä½œæˆã§ãã‚‹
- [x] ä¸€è¦§/è©³ç´°/ç·¨é›†/å‰Šé™¤ãŒå¯èƒ½
- [x] æœŸé–“ã‚’æŒ‡å®šã—ã¦åˆè¨ˆæ™‚é–“ã¨ç†è§£åº¦å†…è¨³ã‚’è¡¨ç¤º
- [x] IaCï¼ˆTerraformï¼‰ã§ä¸»è¦ã‚¤ãƒ³ãƒ•ãƒ©ãŒå†ç¾å¯èƒ½

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudFront  â”‚ (CDN)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ S3 (é™çš„ã‚µã‚¤ãƒˆ: React)
       â”‚
       â””â”€â†’ API Gateway
            â”‚
            â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Lambda  â”‚ (FastAPI)
       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“        â†“        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Cognito â”‚ â”‚DynamoDBâ”‚ â”‚CloudWatchâ”‚
â”‚(èªè¨¼)  â”‚ â”‚(DB)    â”‚ â”‚(ãƒ­ã‚°)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ |
|---------|------|
| **Frontend** | React 18 + TypeScript + Vite |
| **Backend** | Python 3.11+ + FastAPI |
| **èªè¨¼** | Amazon Cognito (User Pool, Hosted UI) |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | DynamoDB |
| **API** | API Gateway + Lambda (Mangum) |
| **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°** | S3 + CloudFront |
| **IaC** | Terraform |
| **CI/CD** | GitHub Actions |

---

## 3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
study_app/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ CLAUDE.md                    # AIé–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ .pre-commit-config.yaml      # pre-commitè¨­å®š
â”‚
â”œâ”€â”€ front/                       # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReact + TypeScriptï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/          # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚   â””â”€â”€ lib/             # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ types/               # å‹å®šç¾©
â”‚   â”œâ”€â”€ infra/                   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰
â”‚   â”‚   â”œâ”€â”€ _shared/             # å…±é€šTerraformã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ dev/                 # Devç’°å¢ƒï¼ˆbackend.tf + terraform.tfvarsï¼‰
â”‚   â”‚   â”œâ”€â”€ prod/                # Prodç’°å¢ƒï¼ˆbackend.tf + terraform.tfvarsï¼‰
â”‚   â”‚   â””â”€â”€ modules/             # å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆS3 + CloudFrontï¼‰
â”‚   â”œâ”€â”€ deploy.sh                # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ README.md                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚
â”œâ”€â”€ backend/                     # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆFastAPIï¼‰
â”‚   â”œâ”€â”€ apis/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ main.py          # FastAPIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ handler.py       # Lambdaã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/         # APIãƒ«ãƒ¼ã‚¿ãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ repos/           # DynamoDBã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”‚   â””â”€â”€ core/            # è¨­å®šãƒ»ãƒ­ã‚°
â”‚   â”‚   â””â”€â”€ tests/               # APIãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ infra/                   # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”¨ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰
â”‚       â”œâ”€â”€ _shared/             # å…±é€šTerraformã‚³ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ dev/                 # Devç’°å¢ƒï¼ˆbackend.tf + terraform.tfvarsï¼‰
â”‚       â”œâ”€â”€ prod/                # Prodç’°å¢ƒï¼ˆbackend.tf + terraform.tfvarsï¼‰
â”‚       â””â”€â”€ modules/             # å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆLambda + API Gatewayç­‰ï¼‰
â”‚
â””â”€â”€ .github/
    â””â”€â”€ workflows/               # CI/CDï¼ˆGitHub Actionsï¼‰
        â”œâ”€â”€ ci.yml
        â””â”€â”€ deploy.yml
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | å½¹å‰² |
|------------|------|
| `front/` | React SPAã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + é–¢é€£ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰ |
| `backend/` | FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API + é–¢é€£ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰ |
| `front/infra/_shared/` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å…±é€šTerraformã‚³ãƒ¼ãƒ‰ï¼ˆmain.tf, variables.tf, outputs.tfï¼‰ |
| `front/infra/dev/`, `prod/` | ç’°å¢ƒå›ºæœ‰ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆbackend.tf, terraform.tfvarsï¼‰+ ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ |
| `backend/infra/_shared/` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å…±é€šTerraformã‚³ãƒ¼ãƒ‰ï¼ˆmain.tf, variables.tf, outputs.tfï¼‰ |
| `backend/infra/dev/`, `prod/` | ç’°å¢ƒå›ºæœ‰ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆbackend.tf, terraform.tfvarsï¼‰+ ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ |
| `.github/workflows/` | CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ |

---

## 4. å‰ææ¡ä»¶

é–‹ç™ºã‚’å§‹ã‚ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

### å¿…é ˆ

- **Node.js**: >= 18.0.0
- **npm**: >= 9.0.0
- **Python**: >= 3.11
- **Terraform**: >= 1.5.0
- **AWS CLI**: æœ€æ–°ç‰ˆ

### æ¨å¥¨

- **pre-commit**: ã‚³ãƒŸãƒƒãƒˆå‰ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯
  ```bash
  pipx install pre-commit
  ```

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

```bash
node --version
npm --version
python --version
terraform --version
aws --version
```

---

## 5. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 5.1 ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone <repository-url>
cd study_app
```

### 5.2 pre-commitã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# pre-commitãƒ•ãƒƒã‚¯ã®æœ‰åŠ¹åŒ–
pre-commit install

# æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦å®Ÿè¡Œï¼ˆåˆå›æ¨å¥¨ï¼‰
pre-commit run --all-files
```

### 5.3 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd front
npm install
npm run dev
```

è©³ç´°ã¯ [front/README.md](./front/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### 5.4 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd backend/apis
pip install -r requirements.txt
uvicorn app.main:app --reload
```

è©³ç´°ã¯ `backend/README.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆä½œæˆäºˆå®šï¼‰ã€‚

### 5.5 ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd front/infra/dev
terraform init
terraform plan
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆä½œæˆäºˆå®šï¼‰

```bash
cd backend/infra/dev
terraform init
terraform plan
```

è©³ç´°ã¯å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®READMEã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## 6. é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 6.1 ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

- **main**: æœ¬ç•ªç’°å¢ƒç”¨ãƒ–ãƒ©ãƒ³ãƒ
- **feature/***: æ©Ÿèƒ½é–‹ç™ºç”¨ãƒ–ãƒ©ãƒ³ãƒ

```bash
# æ–°æ©Ÿèƒ½ã®é–‹ç™º
git checkout -b feature/add-login-page
# é–‹ç™º...
git add .
git commit -m "feat(front): add login page"
git push origin feature/add-login-page
```

### 6.2 ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒŠãƒ«ã‚³ãƒŸãƒƒãƒˆå½¢å¼ã‚’ä½¿ç”¨ï¼š

```
<type>(<scope>): <subject>

ä¾‹:
feat(front): add learning log form
fix(api): handle empty tags in LogForm
chore(infra): provision DynamoDB table with GSI1
docs(readme): update setup instructions
test(api): add tests for POST /logs
```

### 6.3 é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«

1. **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º**: `npm run dev` ã¾ãŸã¯ `uvicorn app.main:app --reload`
2. **ãƒ†ã‚¹ãƒˆ**: `npm run test` ã¾ãŸã¯ `pytest`
3. **Lint/Format**: `npm run lint` / `npm run format` ã¾ãŸã¯ `black` / `ruff`
4. **ã‚³ãƒŸãƒƒãƒˆ**: pre-commitãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™
5. **ãƒ—ãƒƒã‚·ãƒ¥**: GitHub Actions ã§è‡ªå‹•çš„ã«CIå®Ÿè¡Œ

---

## 7. ãƒ‡ãƒ—ãƒ­ã‚¤

### 7.1 ã‚¤ãƒ³ãƒ•ãƒ©ã®ãƒ‡ãƒ—ãƒ­ã‚¤

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ - Devç’°å¢ƒ

```bash
cd front/infra/dev
terraform init
terraform apply
```

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ - Prodç’°å¢ƒ

```bash
cd front/infra/prod
terraform init
terraform apply
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆä½œæˆäºˆå®šï¼‰

```bash
cd backend/infra/dev
terraform init
terraform apply
```

### 7.2 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
cd front
npm run deploy:dev    # Devç’°å¢ƒ
npm run deploy:prod   # Prodç’°å¢ƒ
```

#### ã‚¤ãƒ³ãƒ•ãƒ©ã‚‚å«ã‚ã¦ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
cd front
npm run deploy:dev:infra    # Devç’°å¢ƒï¼ˆã‚¤ãƒ³ãƒ•ãƒ© + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
npm run deploy:prod:infra   # Prodç’°å¢ƒï¼ˆã‚¤ãƒ³ãƒ•ãƒ© + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
```

ã¾ãŸã¯ç›´æ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œï¼š

```bash
cd front
./deploy.sh dev --with-infra    # ã‚¤ãƒ³ãƒ•ãƒ©ã‚‚å«ã‚ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
./deploy.sh prod --with-infra   # ã‚¤ãƒ³ãƒ•ãƒ©ã‚‚å«ã‚ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
```

è©³ç´°ã¯ [front/README.md](./front/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### 7.3 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Lambdaé–¢æ•°ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
cd backend/apis
# ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œï¼ˆä½œæˆäºˆå®šï¼‰
./deploy.sh dev
```

---

## 8. ç’°å¢ƒ

### ç’°å¢ƒã®ç¨®é¡

| ç’°å¢ƒ | ç”¨é€” | URLä¾‹ |
|-----|------|-------|
| **Dev** | é–‹ç™ºãƒ»æ¤œè¨¼ç”¨ | https://d123456789.cloudfront.net |
| **Prod** | æœ¬ç•ªç’°å¢ƒ | https://app.example.com |

### AWSãƒªã‚½ãƒ¼ã‚¹å‘½åè¦å‰‡

ãƒ‘ã‚¿ãƒ¼ãƒ³: `study-app-{resource-type}-{env}`

| ãƒªã‚½ãƒ¼ã‚¹ | Dev | Prod |
|---------|-----|------|
| S3ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆï¼‰ | `study-app-front-dev` | `study-app-front-prod` |
| DynamoDB | `study-app-learning-logs-dev` | `study-app-learning-logs-prod` |
| Lambda | `study-app-api-dev` | `study-app-api-prod` |
| Cognito User Pool | `study-app-user-pool-dev` | `study-app-user-pool-prod` |

è©³ç´°ã¯ [CLAUDE.md](./CLAUDE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## 9. é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 9.1 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

#### å…±é€š

- âœ… å‹å®‰å…¨ã‚’å„ªå…ˆï¼ˆTypeScript, Pydanticï¼‰
- âœ… æ„å‘³ã®ã‚ã‚‹å¤‰æ•°åãƒ»é–¢æ•°åã‚’ä½¿ç”¨
- âœ… DRYåŸå‰‡ã‚’éµå®ˆ
- âŒ ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã¯é¿ã‘ã‚‹ï¼ˆç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ï¼‰

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- âœ… é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ + Hooks
- âœ… propsã®å‹å®šç¾©ã¯å¿…é ˆ
- âŒ `any` ã®ä½¿ç”¨ã¯é¿ã‘ã‚‹

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- âœ… Pydanticãƒ¢ãƒ‡ãƒ«ã§å‹å®šç¾©
- âœ… ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’é©åˆ‡ã«
- âœ… ãƒ­ã‚°ã‚’é©åˆ‡ã«å‡ºåŠ›

### 9.2 ãƒ†ã‚¹ãƒˆ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd front
npm run test
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend/apis
pytest
```

### 9.3 é™çš„è§£æ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd front
npm run lint
npm run format
npm run type-check
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend/apis
black .
ruff check .
```

---

## 10. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### AWSèªè¨¼ã‚¨ãƒ©ãƒ¼

```bash
# èªè¨¼æƒ…å ±ã®ç¢ºèª
aws sts get-caller-identity

# ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š
export AWS_PROFILE=your-profile-name
```

### Terraformã‚¨ãƒ©ãƒ¼

#### State Lockã‚¨ãƒ©ãƒ¼

```bash
# å¼·åˆ¶çš„ã«ãƒ­ãƒƒã‚¯è§£é™¤ï¼ˆæ³¨æ„ã—ã¦ä½¿ç”¨ï¼‰
terraform force-unlock <LOCK_ID>
```

#### S3ãƒã‚±ãƒƒãƒˆåã®ç«¶åˆ

S3ãƒã‚±ãƒƒãƒˆåã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ä¸€æ„ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
`infra/dev/main.tf` ã¾ãŸã¯ `infra/prod/main.tf` ã§ãƒã‚±ãƒƒãƒˆåã«ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd front
rm -rf node_modules dist .vite
npm install
npm run build
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend/apis
rm -rf __pycache__ .pytest_cache
pip install -r requirements.txt --force-reinstall
```

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [CLAUDE.md](./CLAUDE.md) - AIé–‹ç™ºè€…å‘ã‘ã®è©³ç´°ãªè¨­è¨ˆãƒ»è¦ç´„
- [front/README.md](./front/README.md) - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚¬ã‚¤ãƒ‰
- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ `{component}/infra/` é…ä¸‹ã«é…ç½®

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'feat: add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯ LICENSE ãƒ•ã‚¡ã‚¤ãƒ«ã«å¾“ã„ã¾ã™ã€‚

---

## ğŸ“ å¤‰æ›´å±¥æ­´

- **2025-11-09**: ã‚¤ãƒ³ãƒ•ãƒ©æ§‹é€ ã‚’æœ€é©åŒ– & ãƒ‡ãƒ—ãƒ­ã‚¤æ©Ÿèƒ½å¼·åŒ–
  - ç’°å¢ƒé–“ã®å·®åˆ†ã‚’å®Œå…¨æ’é™¤ï¼ˆ_shared/ + ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯æ§‹é€ ï¼‰
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã«å¤‰æ›´
  - ç’°å¢ƒå›ºæœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã¯ backend.tf ã¨ terraform.tfvars ã®ã¿
  - Terraform Stateç®¡ç†ã‚’S3ã®ã¿ã«å¤‰æ›´ï¼ˆDynamoDB Lockå‰Šé™¤ï¼‰
  - ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã‚¤ãƒ³ãƒ•ãƒ©ãƒ‡ãƒ—ãƒ­ã‚¤æ©Ÿèƒ½ã‚’è¿½åŠ ï¼ˆ`--with-infra` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- **2025-11-08**: åˆç‰ˆä½œæˆ
  - Frontendï¼ˆReact + TypeScript + Viteï¼‰å®Ÿè£…å®Œäº†
  - Infrastructureï¼ˆS3 + CloudFront + OACï¼‰å®Ÿè£…å®Œäº†
  - ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 
  - pre-commitè¨­å®šè¿½åŠ 
